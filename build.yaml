targets:
  $default:
    builders:
      envied_generator|envied:
        options:
          # Override environment file path from CLI using --define
          override: true
        generate_for:
          # Only scan env files - much faster
          - lib/features/env/env_*.dart
      injectable_generator|injectable_builder:
        options:
          auto_register: true
          # Performance: Focus only on DI-related files
          generate_for:
            - lib/core/di/*.dart
            - lib/core/**/app_module.dart
            - lib/**/infrastructure/*.dart
        # Performance: Exclude test and generated files
        enabled: true
      # Performance optimization: Disable unused builders
      source_gen|combining_builder:
        enabled: false
      # Disable other potentially unused builders
      json_serializable|json_serializable:
        enabled: false
      retrofit_generator|retrofit:
        enabled: false
      freezed|freezed:
        enabled: false
    # Performance: Limit source scanning
    sources:
      include:
        - lib/**
        - pubspec.yaml
      exclude:
        - test/**
        - .dart_tool/**
